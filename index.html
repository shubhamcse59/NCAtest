<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <div class="page d-flex">
        <div class="leftSide">
            <div class="topBannerSec mb-3">
                <img src="images/top_header.png" alt="img">
            </div>
            <div class="blogListSec">
                <ul class="d-flex flex-wrap" id="personList"></ul>
            </div>
        </div>
        <div class="rightSide">
            <div class="addWorkItem mb-3"><img src="images/right_top_ad.png" alt="img"></div>
            <div class="addWorkItem"><img src="images/right_bottom_ad.png" alt="img"></div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
    <script>
        //fetch JSON data from some server
        document.addEventListener('DOMContentLoaded', ()=>{
            var personList = document.querySelector('#personList');
            var htmlSegment ='';
            //var url='http://localhost:8080/data.json';
            //var url='/js/data.json';
            var url ='https://run.mocky.io/v3/be0d6c0f-9d0b-4557-a31e-2d4b013564c9';
            
            fetch(url)
            .then(response=>response.json())
            .then(data=>{
                console.log(data);
                for(var i=0;i<data.length;i++) {
                    var html = '<li> <div class="blogImg"><img src="images/' + data[i]['imageUrl'] + '" alt="img"></div> <div class="blogDsec"> <h2 class="h2">' + data[i]['title'] + '</h2>  <p>' + data[i]['intro'] + '</p> <div class="blogMeta d-flex pt-2"> <span class="icons d-flex align-items-center me-2"><i class="fas fa-clock me-1"></i> ' + data[i]['publishedOn'] + '</span> <span class="icons d-flex align-items-center"><i class="far fa-comment-alt me-1"></i> ' + data[i]['numberOfComment'] + '</span> </div> </div> </li>';
                    htmlSegment +=html;
                }
                personList.innerHTML=htmlSegment;
            })
            .catch(err=>{
                personList.textContent = err.toString();
            })
        })

    </script>
</body>

</html>